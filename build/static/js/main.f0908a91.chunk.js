(this["webpackJsonpcoppa-risk-frontend"]=this["webpackJsonpcoppa-risk-frontend"]||[]).push([[0],{259:function(e,t,s){},515:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s.n(a),r=s(260),i=s.n(r),n=s(57),l=s(16),d=s(58),o=s.n(d);var j="https://coppariskfilterapp-0bb284b621cd.herokuapp.com/api",b=s(1);var m=e=>{let{onSubmitSuccess:t}=e;const[s,c]=Object(a.useState)({app_name:"",developerCountry:"",countryCode:"",userRatingCount:0,primaryGenreName:"",downloads:"",deviceType:"",hasPrivacyLink:!1,hasTermsOfServiceLink:!1,hasTermsOfServiceLinkRating:"low",isCorporateEmailScore:0,adSpent:0,appAge:0,averageUserRating:0,appContentBrandSafetyRating:"low",appDescriptionBrandSafetyRating:"low",mfaRating:"low"}),[r,i]=Object(a.useState)({developerCountry:[],countryCode:[],primaryGenreName:[],deviceType:[],safetyRatings:[],downloadRanges:[]}),[n,l]=Object(a.useState)(!1),[d,m]=Object(a.useState)(null);Object(a.useEffect)((()=>{(async()=>{try{const e=await o.a.get(`${j}/form-options`);i(e.data)}catch(e){console.error("Error fetching form options:",e),m("Failed to load form options. Please try again later.")}})()}),[]);const x=e=>{const{name:t,value:s,type:a,checked:r}=e.target;c((e=>({...e,[t]:"checkbox"===a?r:s})))};return Object(b.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[Object(b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Submit Your Application"}),d&&Object(b.jsx)("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded mb-4",children:d}),Object(b.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0),m(null);try{const e=await o.a.post(`${j}/submit`,s);e.data&&(t(e.data),c({app_name:"",developerCountry:"",countryCode:"",userRatingCount:0,primaryGenreName:"",downloads:"",deviceType:"",hasPrivacyLink:!1,hasTermsOfServiceLink:!1,hasTermsOfServiceLinkRating:"low",isCorporateEmailScore:0,adSpent:0,appAge:0,averageUserRating:0,appContentBrandSafetyRating:"low",appDescriptionBrandSafetyRating:"low",mfaRating:"low"}))}catch(i){var a,r;console.error("Error submitting application:",i),m((null===(a=i.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||"Failed to submit application. Please try again.")}finally{l(!1)}},children:[Object(b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Object(b.jsxs)("div",{className:"col-span-2",children:[Object(b.jsx)("label",{className:"block text-gray-700 mb-1",children:"Application Name *"}),Object(b.jsx)("input",{type:"text",name:"app_name",value:s.app_name,onChange:x,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"block text-gray-700 mb-1",children:"Developer Country *"}),Object(b.jsxs)("select",{name:"developerCountry",value:s.developerCountry,onChange:x,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[Object(b.jsx)("option",{value:"",children:"Select Country"}),r.developerCountry.map(((e,t)=>Object(b.jsx)("option",{value:e,children:e},t)))]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"block text-gray-700 mb-1",children:"Target Region"}),Object(b.jsxs)("select",{name:"countryCode",value:s.countryCode,onChange:x,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[Object(b.jsx)("option",{value:"",children:"Select Region"}),r.countryCode.map(((e,t)=>Object(b.jsx)("option",{value:e,children:e},t)))]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"block text-gray-700 mb-1",children:"Primary Genre *"}),Object(b.jsxs)("select",{name:"primaryGenreName",value:s.primaryGenreName,onChange:x,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[Object(b.jsx)("option",{value:"",children:"Select Genre"}),r.primaryGenreName.map(((e,t)=>Object(b.jsx)("option",{value:e,children:e},t)))]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"block text-gray-700 mb-1",children:"Device Type"}),Object(b.jsxs)("select",{name:"deviceType",value:s.deviceType,onChange:x,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[Object(b.jsx)("option",{value:"",children:"Select Device Type"}),r.deviceType.map(((e,t)=>Object(b.jsx)("option",{value:e,children:e},t)))]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"block text-gray-700 mb-1",children:"Download Range"}),Object(b.jsxs)("select",{name:"downloads",value:s.downloads,onChange:x,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[Object(b.jsx)("option",{value:"",children:"Select Download Range"}),r.downloadRanges.map(((e,t)=>Object(b.jsx)("option",{value:e,children:e},t)))]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"block text-gray-700 mb-1",children:"User Rating Count"}),Object(b.jsx)("input",{type:"number",name:"userRatingCount",value:s.userRatingCount,onChange:x,min:"0",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"block text-gray-700 mb-1",children:"Average User Rating"}),Object(b.jsx)("input",{type:"number",name:"averageUserRating",value:s.averageUserRating,onChange:x,min:"0",max:"5",step:"0.1",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"block text-gray-700 mb-1",children:"App Age (days)"}),Object(b.jsx)("input",{type:"number",name:"appAge",value:s.appAge,onChange:x,min:"0",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"block text-gray-700 mb-1",children:"Corporate Email Score (0-100)"}),Object(b.jsx)("input",{type:"number",name:"isCorporateEmailScore",value:s.isCorporateEmailScore,onChange:x,min:"0",max:"100",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"block text-gray-700 mb-1",children:"Ad Spent (USD)"}),Object(b.jsx)("input",{type:"number",name:"adSpent",value:s.adSpent,onChange:x,min:"0",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"block text-gray-700 mb-1",children:"App Content Safety Rating"}),Object(b.jsx)("select",{name:"appContentBrandSafetyRating",value:s.appContentBrandSafetyRating,onChange:x,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:r.safetyRatings.map(((e,t)=>Object(b.jsx)("option",{value:e,children:e},t)))})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"block text-gray-700 mb-1",children:"App Description Safety Rating"}),Object(b.jsx)("select",{name:"appDescriptionBrandSafetyRating",value:s.appDescriptionBrandSafetyRating,onChange:x,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:r.safetyRatings.map(((e,t)=>Object(b.jsx)("option",{value:e,children:e},t)))})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"block text-gray-700 mb-1",children:"MFA Rating"}),Object(b.jsx)("select",{name:"mfaRating",value:s.mfaRating,onChange:x,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:r.safetyRatings.map(((e,t)=>Object(b.jsx)("option",{value:e,children:e},t)))})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"block text-gray-700 mb-1",children:"Terms of Service Quality"}),Object(b.jsx)("select",{name:"hasTermsOfServiceLinkRating",value:s.hasTermsOfServiceLinkRating,onChange:x,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:r.safetyRatings.map(((e,t)=>Object(b.jsx)("option",{value:e,children:e},t)))})]}),Object(b.jsxs)("div",{className:"col-span-2 mt-4",children:[Object(b.jsxs)("div",{className:"flex items-center mb-2",children:[Object(b.jsx)("input",{type:"checkbox",name:"hasPrivacyLink",id:"hasPrivacyLink",checked:s.hasPrivacyLink,onChange:x,className:"h-4 w-4 mr-2"}),Object(b.jsx)("label",{htmlFor:"hasPrivacyLink",className:"text-gray-700",children:"App has a Privacy Policy link"})]}),Object(b.jsxs)("div",{className:"flex items-center",children:[Object(b.jsx)("input",{type:"checkbox",name:"hasTermsOfServiceLink",id:"hasTermsOfServiceLink",checked:s.hasTermsOfServiceLink,onChange:x,className:"h-4 w-4 mr-2"}),Object(b.jsx)("label",{htmlFor:"hasTermsOfServiceLink",className:"text-gray-700",children:"App has a Terms of Service link"})]})]})]}),Object(b.jsx)("div",{className:"mt-6",children:Object(b.jsx)("button",{type:"submit",disabled:n,className:"w-full py-2 rounded text-white font-medium "+(n?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"),children:n?"Submitting...":"Submit Application for Assessment"})})]})]})};var x=e=>{let{result:t}=e;if(!t)return null;const{app_name:s,prediction:a,passed:c}=t,r=(null===a||void 0===a?void 0:a.prediction_score)||0,i=(null===a||void 0===a?void 0:a.risk_level)||"Unknown",n=Math.round(100*r),l="Low"===i?{bg:"bg-green-100",border:"border-green-300",text:"text-green-800",progressBg:"bg-green-200",progressFill:"bg-green-500",statusBg:"bg-green-500"}:"Medium"===i?{bg:"bg-yellow-100",border:"border-yellow-300",text:"text-yellow-800",progressBg:"bg-yellow-200",progressFill:"bg-yellow-500",statusBg:"bg-yellow-500"}:{bg:"bg-red-100",border:"border-red-300",text:"text-red-800",progressBg:"bg-red-200",progressFill:"bg-red-500",statusBg:"bg-red-500"};return Object(b.jsxs)("div",{className:`${l.bg} ${l.border} border rounded-lg p-6 shadow-md`,children:[Object(b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[Object(b.jsx)("h3",{className:"text-xl font-semibold",children:s}),Object(b.jsx)("div",{className:(c?"bg-green-500":"bg-red-500")+" text-white px-3 py-1 rounded-full text-sm font-medium",children:c?"PASSED":"FAILED"})]}),Object(b.jsxs)("div",{className:"mb-4",children:[Object(b.jsxs)("div",{className:"flex justify-between mb-1",children:[Object(b.jsx)("span",{className:`${l.text} font-medium text-sm`,children:"COPPA Risk Score"}),Object(b.jsxs)("span",{className:`${l.text} font-medium text-sm`,children:[n,"%"]})]}),Object(b.jsx)("div",{className:`w-full ${l.progressBg} rounded-full h-2.5`,children:Object(b.jsx)("div",{className:`${l.progressFill} h-2.5 rounded-full`,style:{width:`${n}%`}})})]}),Object(b.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{className:"text-gray-600 text-sm block",children:"Risk Level"}),Object(b.jsx)("span",{className:`${l.text} font-semibold`,children:i})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{className:"text-gray-600 text-sm block",children:"Exact Score"}),Object(b.jsx)("span",{className:`${l.text} font-semibold`,children:r.toFixed(4)})]})]}),Object(b.jsx)("div",{className:"mt-4 border-t pt-4",children:Object(b.jsx)("p",{className:"text-gray-700 text-sm",children:c?Object(b.jsxs)("span",{children:[Object(b.jsx)("span",{className:"font-medium text-green-600",children:"Congratulations!"})," Your application has passed our COPPA Risk Assessment. It is eligible for distribution in Indonesia."]}):Object(b.jsxs)("span",{children:[Object(b.jsx)("span",{className:"font-medium text-red-600",children:"Action Required:"})," Your application did not pass our COPPA Risk Assessment. Please review your privacy practices and resubmit."]})})})]})};var p=()=>{const[e,t]=Object(a.useState)(null),[s,c]=Object(a.useState)(!0);return Object(b.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[Object(b.jsxs)("div",{className:"mb-6",children:[Object(b.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"App Developer Portal"}),Object(b.jsx)("p",{className:"text-gray-600",children:"Submit your application for COPPA risk assessment before distribution in Indonesia"})]}),s?Object(b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[Object(b.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6",children:Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("div",{className:"flex-shrink-0",children:Object(b.jsx)("i",{className:"fas fa-info-circle text-blue-500"})}),Object(b.jsx)("div",{className:"ml-3",children:Object(b.jsx)("p",{className:"text-sm text-blue-700",children:"As per Indonesian regulations, all mobile applications must pass the COPPA Risk Assessment before being distributed in Indonesia. Please provide accurate information about your app."})})]})}),Object(b.jsx)(m,{onSubmitSuccess:e=>{t(e),c(!1)}})]}):Object(b.jsxs)("div",{className:"max-w-2xl mx-auto",children:[Object(b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Assessment Result"}),Object(b.jsx)(x,{result:e}),Object(b.jsx)("div",{className:"mt-6 text-center",children:Object(b.jsx)("button",{onClick:()=>{t(null),c(!0)},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded text-gray-800",children:"Submit Another Application"})})]})]})},h=s(517),u=s(521),g=s(271),O=s(106),y=s(50),f=s(70),v=s(518),N=s(519),w=s(107),k=s(108),S=s(274),_=s(520),C=s(109);var A=e=>{let{data:t}=e;if(!t)return Object(b.jsx)("div",{children:"Loading dashboard data..."});const{stats:s,recent_submissions:a,pass_rate_over_time:c}=t,r=[{name:"Passed",value:s.passed_count},{name:"Failed",value:s.failed_count}],i=["#10B981","#EF4444","#3B82F6","#F59E0B","#8B5CF6"],n=Object.entries(s.data.genre_distribution||{}).map((e=>{let[t,s]=e;return{name:t,value:s}})).sort(((e,t)=>t.value-e.value)).slice(0,5),l=Object.entries(s.data.country_distribution||{}).map((e=>{let[t,s]=e;return{name:t,value:s}})).sort(((e,t)=>t.value-e.value)).slice(0,5);return Object(b.jsxs)("div",{className:"dashboard",children:[Object(b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[Object(b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[Object(b.jsx)("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Applications"}),Object(b.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:s.total_submissions}),Object(b.jsx)("div",{className:"flex items-center mt-1",children:Object(b.jsx)("div",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs font-medium",children:"Submissions"})})]}),Object(b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[Object(b.jsx)("h3",{className:"text-gray-500 text-sm font-medium",children:"Passed"}),Object(b.jsx)("p",{className:"text-2xl font-bold text-green-600",children:s.passed_count}),Object(b.jsx)("div",{className:"flex items-center mt-1",children:Object(b.jsxs)("div",{className:"bg-green-100 text-green-800 px-2 py-0.5 rounded text-xs font-medium",children:[(s.passed_count/(s.total_submissions||1)*100).toFixed(1),"% Pass Rate"]})})]}),Object(b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[Object(b.jsx)("h3",{className:"text-gray-500 text-sm font-medium",children:"Failed"}),Object(b.jsx)("p",{className:"text-2xl font-bold text-red-600",children:s.failed_count}),Object(b.jsx)("div",{className:"flex items-center mt-1",children:Object(b.jsxs)("div",{className:"bg-red-100 text-red-800 px-2 py-0.5 rounded text-xs font-medium",children:[(s.failed_count/(s.total_submissions||1)*100).toFixed(1),"% Fail Rate"]})})]}),Object(b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[Object(b.jsx)("h3",{className:"text-gray-500 text-sm font-medium",children:"Average Risk Score"}),Object(b.jsxs)("p",{className:"text-2xl font-bold text-gray-800",children:[(100*s.average_risk_score).toFixed(1),"%"]}),Object(b.jsx)("div",{className:"flex items-center mt-1",children:Object(b.jsx)("div",{className:"bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded text-xs font-medium",children:"Risk Level"})})]})]}),Object(b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[Object(b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[Object(b.jsx)("h3",{className:"text-gray-700 font-medium mb-3",children:"Pass/Fail Distribution"}),Object(b.jsx)("div",{className:"h-60",children:Object(b.jsx)(h.a,{width:"100%",height:"100%",children:Object(b.jsxs)(u.a,{children:[Object(b.jsx)(g.a,{data:r,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:e=>{let{name:t,percent:s}=e;return`${t}: ${(100*s).toFixed(0)}%`},children:r.map(((e,t)=>Object(b.jsx)(O.a,{fill:i[t%i.length]},`cell-${t}`)))}),Object(b.jsx)(y.a,{}),Object(b.jsx)(f.a,{})]})})})]}),Object(b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[Object(b.jsx)("h3",{className:"text-gray-700 font-medium mb-3",children:"Pass Rate Over Time"}),Object(b.jsx)("div",{className:"h-60",children:Object(b.jsx)(h.a,{width:"100%",height:"100%",children:Object(b.jsxs)(v.a,{data:c,margin:{top:5,right:30,left:20,bottom:5},children:[Object(b.jsx)(N.a,{strokeDasharray:"3 3"}),Object(b.jsx)(w.a,{dataKey:"date"}),Object(b.jsx)(k.a,{}),Object(b.jsx)(y.a,{formatter:e=>`${e.toFixed(1)}%`}),Object(b.jsx)(f.a,{}),Object(b.jsx)(S.a,{type:"monotone",dataKey:"pass_rate",stroke:"#10B981",name:"Pass Rate (%)",activeDot:{r:8}})]})})})]})]}),Object(b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[Object(b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[Object(b.jsx)("h3",{className:"text-gray-700 font-medium mb-3",children:"Top App Genres"}),Object(b.jsx)("div",{className:"h-60",children:Object(b.jsx)(h.a,{width:"100%",height:"100%",children:Object(b.jsxs)(_.a,{data:n,layout:"vertical",margin:{top:5,right:30,left:80,bottom:5},children:[Object(b.jsx)(N.a,{strokeDasharray:"3 3"}),Object(b.jsx)(w.a,{type:"number"}),Object(b.jsx)(k.a,{type:"category",dataKey:"name"}),Object(b.jsx)(y.a,{}),Object(b.jsx)(f.a,{}),Object(b.jsx)(C.a,{dataKey:"value",fill:"#3B82F6",name:"Number of Apps"})]})})})]}),Object(b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[Object(b.jsx)("h3",{className:"text-gray-700 font-medium mb-3",children:"Top Developer Countries"}),Object(b.jsx)("div",{className:"h-60",children:Object(b.jsx)(h.a,{width:"100%",height:"100%",children:Object(b.jsxs)(_.a,{data:l,layout:"vertical",margin:{top:5,right:30,left:80,bottom:5},children:[Object(b.jsx)(N.a,{strokeDasharray:"3 3"}),Object(b.jsx)(w.a,{type:"number"}),Object(b.jsx)(k.a,{type:"category",dataKey:"name"}),Object(b.jsx)(y.a,{}),Object(b.jsx)(f.a,{}),Object(b.jsx)(C.a,{dataKey:"value",fill:"#8B5CF6",name:"Number of Apps"})]})})})]})]}),Object(b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[Object(b.jsx)("h3",{className:"text-gray-700 font-medium mb-3",children:"Recent Submissions"}),Object(b.jsx)("div",{className:"overflow-x-auto",children:Object(b.jsxs)("table",{className:"min-w-full",children:[Object(b.jsx)("thead",{className:"bg-gray-50",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"App Name"}),Object(b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Genre"}),Object(b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submission Date"}),Object(b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Risk Score"}),Object(b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),Object(b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map((e=>Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(b.jsx)("div",{className:"font-medium text-gray-900",children:e.app_name})}),Object(b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(b.jsx)("div",{className:"text-gray-500",children:e.primary_genre_name})}),Object(b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(b.jsx)("div",{className:"text-gray-500",children:new Date(e.submission_date).toLocaleDateString()})}),Object(b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(b.jsxs)("div",{className:"text-gray-500",children:[(100*e.prediction_score).toFixed(1),"%"]})}),Object(b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(b.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(e.passed?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.passed?"PASSED":"FAILED"})})]},e.id)))})]})})]})]})};var R=()=>{const[e,t]=Object(a.useState)(null),[s,c]=Object(a.useState)([]),[r,i]=Object(a.useState)(!0),[n,l]=Object(a.useState)(null),[d,m]=Object(a.useState)(null),[x,p]=Object(a.useState)("dashboard");Object(a.useEffect)((()=>{const e=async()=>{i(!0);try{const e=await o.a.get(`${j}/dashboard`);t(e.data);const s=await o.a.get(`${j}/applications`);c(s.data),l(null)}catch(e){console.error("Error fetching data:",e),l("Failed to load data. Please try again later.")}finally{i(!1)}};e();const s=setInterval(e,3e4);return()=>clearInterval(s)}),[]);const h=e=>{(async e=>{try{const t=await o.a.get(`${j}/applications/${e}`);m(t.data)}catch(t){console.error("Error fetching app details:",t),l("Failed to load application details.")}})(e),p("details")};return r&&!e?Object(b.jsx)("div",{className:"container mx-auto px-4 py-6",children:Object(b.jsx)("div",{className:"flex justify-center items-center h-64",children:Object(b.jsxs)("div",{className:"text-center",children:[Object(b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-700 mx-auto"}),Object(b.jsx)("p",{className:"mt-3 text-gray-700",children:"Loading dashboard data..."})]})})}):n&&!e?Object(b.jsx)("div",{className:"container mx-auto px-4 py-6",children:Object(b.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[Object(b.jsx)("p",{children:n}),Object(b.jsx)("button",{className:"mt-2 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:()=>window.location.reload(),children:"Retry"})]})}):Object(b.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[Object(b.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Government COPPA Risk Assessment Portal"}),Object(b.jsx)("p",{className:"text-gray-600",children:"Monitor and assess applications for COPPA compliance"})]}),Object(b.jsxs)("div",{className:"text-right",children:[Object(b.jsx)("div",{className:"text-sm text-gray-600",children:"Last updated"}),Object(b.jsx)("div",{className:"text-gray-800 font-medium",children:(new Date).toLocaleString()})]})]}),Object(b.jsx)("div",{className:"border-b border-gray-200 mb-6",children:Object(b.jsxs)("nav",{className:"-mb-px flex",children:[Object(b.jsxs)("button",{onClick:()=>p("dashboard"),className:"mr-8 py-4 px-1 "+("dashboard"===x?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[Object(b.jsx)("i",{className:"fas fa-chart-line mr-2"}),"Dashboard"]}),Object(b.jsxs)("button",{onClick:()=>p("applications"),className:"mr-8 py-4 px-1 "+("applications"===x?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[Object(b.jsx)("i",{className:"fas fa-mobile-alt mr-2"}),"All Applications"]}),d&&Object(b.jsxs)("button",{onClick:()=>p("details"),className:"mr-8 py-4 px-1 "+("details"===x?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[Object(b.jsx)("i",{className:"fas fa-info-circle mr-2"}),"Application Details"]})]})}),Object(b.jsxs)("div",{className:"tab-content",children:["dashboard"===x&&Object(b.jsx)(A,{data:e}),"applications"===x&&Object(b.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[Object(b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"All Submitted Applications"}),Object(b.jsx)("div",{className:"overflow-x-auto",children:Object(b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(b.jsx)("thead",{className:"bg-gray-50",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),Object(b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"App Name"}),Object(b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Developer Country"}),Object(b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Genre"}),Object(b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submission Date"}),Object(b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Risk Score"}),Object(b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),Object(b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((e=>Object(b.jsxs)("tr",{onClick:()=>h(e.id),className:"hover:bg-gray-50 cursor-pointer",children:[Object(b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(b.jsx)("div",{className:"text-gray-900",children:e.id})}),Object(b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(b.jsx)("div",{className:"font-medium text-gray-900",children:e.app_name})}),Object(b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(b.jsx)("div",{className:"text-gray-500",children:e.developer_country})}),Object(b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(b.jsx)("div",{className:"text-gray-500",children:e.primary_genre_name})}),Object(b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(b.jsx)("div",{className:"text-gray-500",children:new Date(e.submission_date).toLocaleDateString()})}),Object(b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(b.jsxs)("div",{className:"text-gray-500",children:[(100*e.prediction_score).toFixed(1),"%"]})}),Object(b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(b.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(e.passed?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.passed?"PASSED":"FAILED"})})]},e.id)))})]})})]}),"details"===x&&d&&Object(b.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[Object(b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[Object(b.jsx)("h2",{className:"text-xl font-semibold",children:"Application Details"}),Object(b.jsx)("span",{className:"px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full "+(d.passed?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:d.passed?"PASSED":"FAILED"})]}),Object(b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"text-lg font-medium border-b pb-2 mb-3",children:"Basic Information"}),Object(b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"text-sm text-gray-500",children:"App Name"}),Object(b.jsx)("p",{className:"font-medium",children:d.app_name})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"text-sm text-gray-500",children:"Primary Genre"}),Object(b.jsx)("p",{className:"font-medium",children:d.primary_genre_name})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"text-sm text-gray-500",children:"Developer Country"}),Object(b.jsx)("p",{className:"font-medium",children:d.developer_country})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"text-sm text-gray-500",children:"Target Region"}),Object(b.jsx)("p",{className:"font-medium",children:d.country_code||"Not specified"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"text-sm text-gray-500",children:"Device Type"}),Object(b.jsx)("p",{className:"font-medium",children:d.device_type||"Not specified"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"text-sm text-gray-500",children:"Downloads"}),Object(b.jsx)("p",{className:"font-medium",children:d.downloads||"Not specified"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"text-sm text-gray-500",children:"App Age (days)"}),Object(b.jsx)("p",{className:"font-medium",children:d.app_age||"Not specified"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"text-sm text-gray-500",children:"Average Rating"}),Object(b.jsx)("p",{className:"font-medium",children:d.average_user_rating||"Not rated"})]})]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"text-lg font-medium border-b pb-2 mb-3",children:"Privacy & Safety"}),Object(b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"text-sm text-gray-500",children:"Privacy Policy"}),Object(b.jsx)("p",{className:"font-medium",children:d.has_privacy_link?"Yes":"No"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"text-sm text-gray-500",children:"Terms of Service"}),Object(b.jsx)("p",{className:"font-medium",children:d.has_terms_of_service_link?"Yes":"No"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"text-sm text-gray-500",children:"ToS Quality Rating"}),Object(b.jsx)("p",{className:"font-medium",children:d.has_terms_of_service_link_rating})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"text-sm text-gray-500",children:"Corporate Email Score"}),Object(b.jsx)("p",{className:"font-medium",children:d.is_corporate_email_score})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"text-sm text-gray-500",children:"Content Safety Rating"}),Object(b.jsx)("p",{className:"font-medium",children:d.app_content_brand_safety_rating})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"text-sm text-gray-500",children:"Description Safety Rating"}),Object(b.jsx)("p",{className:"font-medium",children:d.app_description_brand_safety_rating})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"text-sm text-gray-500",children:"MFA Rating"}),Object(b.jsx)("p",{className:"font-medium",children:d.mfa_rating})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"text-sm text-gray-500",children:"Ad Spent (USD)"}),Object(b.jsx)("p",{className:"font-medium",children:d.ad_spent||"Not specified"})]})]})]})]}),Object(b.jsxs)("div",{className:"mt-6 border-t pt-6",children:[Object(b.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Risk Assessment"}),Object(b.jsxs)("div",{className:"flex items-center mb-3",children:[Object(b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4",children:Object(b.jsx)("div",{className:"h-4 rounded-full "+(d.prediction_score<.3?"bg-green-500":d.prediction_score<.7?"bg-yellow-500":"bg-red-500"),style:{width:100*d.prediction_score+"%"}})}),Object(b.jsxs)("span",{className:"ml-3 font-medium",children:[(100*d.prediction_score).toFixed(1),"%"]})]}),Object(b.jsxs)("div",{className:"bg-gray-50 rounded p-4 mt-4",children:[Object(b.jsx)("h4",{className:"font-medium mb-2",children:"Assessment Result"}),Object(b.jsx)("p",{children:d.passed?`This application has passed our COPPA risk assessment with a score of ${(100*d.prediction_score).toFixed(1)}%, indicating a lower risk of COPPA violations. It is approved for distribution in Indonesia.`:`This application has failed our COPPA risk assessment with a score of ${(100*d.prediction_score).toFixed(1)}%, indicating a higher risk of COPPA violations. It is not approved for distribution in Indonesia.`}),!d.passed&&Object(b.jsxs)("div",{className:"mt-3",children:[Object(b.jsx)("h4",{className:"font-medium mb-1",children:"Improvement Recommendations:"}),Object(b.jsxs)("ul",{className:"list-disc pl-5 text-sm text-gray-700",children:[!d.has_privacy_link&&Object(b.jsx)("li",{children:"Add a comprehensive privacy policy to the application"}),!d.has_terms_of_service_link&&Object(b.jsx)("li",{children:"Include terms of service documentation"}),"low"===d.app_content_brand_safety_rating&&Object(b.jsx)("li",{children:"Improve content safety measures"}),"Games"===d.primary_genre_name&&Object(b.jsx)("li",{children:"Games targeting children require additional privacy protections"}),Object(b.jsx)("li",{children:"Ensure clear parental consent mechanisms are in place"}),Object(b.jsx)("li",{children:"Limit data collection to only what is necessary"})]})]})]})]})]})]})]})};var P=e=>{let{role:t,setRole:s}=e;return Object(b.jsx)("nav",{className:"bg-gray-800 text-white shadow-md",children:Object(b.jsxs)("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[Object(b.jsxs)("div",{className:"flex items-center",children:[Object(b.jsx)("img",{src:"/assets/indonesia-logo.png",alt:"Indonesia Logo",className:"h-8 mr-3",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/32"}}),Object(b.jsx)("span",{className:"font-semibold text-xl",children:"COPPA Risk Assessment"})]}),Object(b.jsxs)("div",{className:"flex items-center",children:["developer"===t&&Object(b.jsxs)(n.b,{to:"/developer",className:"px-3 py-2 rounded hover:bg-gray-700 mr-2",children:[Object(b.jsx)("i",{className:"fas fa-code mr-1"})," Developer Dashboard"]}),"government"===t&&Object(b.jsxs)(n.b,{to:"/government",className:"px-3 py-2 rounded hover:bg-gray-700 mr-2",children:[Object(b.jsx)("i",{className:"fas fa-chart-line mr-1"})," Government Dashboard"]}),Object(b.jsxs)("button",{onClick:()=>{localStorage.removeItem("role"),s(null)},className:"px-3 py-2 rounded bg-red-600 hover:bg-red-700 text-white",children:[Object(b.jsx)("i",{className:"fas fa-sign-out-alt mr-1"})," Change Role"]})]})]})})};s(259);var D=()=>{const[e,t]=Object(a.useState)(localStorage.getItem("role")||null),s=e=>{t(e),localStorage.setItem("role",e)},c=()=>Object(b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:Object(b.jsxs)("div",{className:"bg-white shadow-xl rounded-lg p-8 max-w-4xl w-full",children:[Object(b.jsxs)("div",{className:"text-center mb-8",children:[Object(b.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"COPPA Risk Assessment System"}),Object(b.jsx)("p",{className:"text-gray-600 mt-2",children:"Indonesian Government Application Safety Monitoring"})]}),Object(b.jsx)("h2",{className:"text-xl font-semibold mb-6 text-center",children:"Select Your Role"}),Object(b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Object(b.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 hover:shadow-md cursor-pointer transition-all",onClick:()=>s("developer"),children:[Object(b.jsx)("div",{className:"text-center mb-4",children:Object(b.jsx)("div",{className:"inline-block p-3 bg-blue-100 rounded-full",children:Object(b.jsx)("i",{className:"fas fa-code text-blue-600 text-3xl"})})}),Object(b.jsx)("h3",{className:"text-lg font-medium text-center mb-2",children:"Application Developer"}),Object(b.jsx)("p",{className:"text-gray-600 text-sm text-center",children:"Submit your application for COPPA risk assessment and get instant feedback"})]}),Object(b.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 hover:shadow-md cursor-pointer transition-all",onClick:()=>s("government"),children:[Object(b.jsx)("div",{className:"text-center mb-4",children:Object(b.jsx)("div",{className:"inline-block p-3 bg-green-100 rounded-full",children:Object(b.jsx)("i",{className:"fas fa-landmark text-green-600 text-3xl"})})}),Object(b.jsx)("h3",{className:"text-lg font-medium text-center mb-2",children:"Government Official"}),Object(b.jsx)("p",{className:"text-gray-600 text-sm text-center",children:"View application assessment results and analytics dashboard"})]})]}),Object(b.jsxs)("div",{className:"mt-8 text-center text-gray-500 text-sm",children:[Object(b.jsx)("p",{children:"Official system of the Indonesian Government"}),Object(b.jsx)("p",{children:"Ministry of Communications and Information Technology"})]})]})});return Object(b.jsx)(n.a,{basename:"/coppa-risk",children:Object(b.jsxs)("div",{className:"app",children:[e&&Object(b.jsx)(P,{role:e,setRole:t}),Object(b.jsxs)(l.d,{children:[Object(b.jsx)(l.b,{exact:!0,path:"/",children:e?Object(b.jsx)(l.a,{to:`/${e}`}):Object(b.jsx)(c,{})}),Object(b.jsx)(l.b,{path:"/developer",children:"developer"===e?Object(b.jsx)(p,{}):Object(b.jsx)(l.a,{to:"/"})}),Object(b.jsx)(l.b,{path:"/government",children:"government"===e?Object(b.jsx)(R,{}):Object(b.jsx)(l.a,{to:"/"})}),Object(b.jsx)(l.b,{path:"*",children:Object(b.jsx)(l.a,{to:"/"})})]})]})})};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(n.a,{children:Object(b.jsx)(D,{})})}),document.getElementById("root"))}},[[515,1,2]]]);
//# sourceMappingURL=main.f0908a91.chunk.js.map